(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-87e5"],{19:function(e,t){},22:function(e,t){},23:function(e,t){},"5Eq1":function(e,t,i){},"7p2g":function(e,t,i){"use strict";var a=i("ljN4");i.n(a).a},"8FEQ":function(e,t,i){"use strict";var a=i("QywQ");i.n(a).a},"8OYH":function(e,t,i){"use strict";i.d(t,"d",function(){return s}),i.d(t,"e",function(){return n}),i.d(t,"k",function(){return r}),i.d(t,"j",function(){return o}),i.d(t,"i",function(){return l}),i.d(t,"h",function(){return u}),i.d(t,"a",function(){return c}),i.d(t,"f",function(){return p}),i.d(t,"b",function(){return f}),i.d(t,"c",function(){return d}),i.d(t,"g",function(){return m});var a=i("t3Un");function s(e){var t={suiteName:e};return Object(a.a)({url:"/apitestsuite/getAPITestSuiteByName",method:"post",data:t})}function n(){return Object(a.a)({url:"/apitestsuite/getAPITestSuiteNames",method:"get"})}function r(e,t){var i={suiteName:t,update:e};return Object(a.a)({url:"/apitestsuite/updateSingleAPITestSuite",method:"post",data:i})}function o(e,t){var i={suiteName:t,update:e};return Object(a.a)({url:"/apitestsuite/updateNewCaseToAPITestSuite",method:"post",data:i})}function l(e){var t={suiteName:e};return Object(a.a)({url:"/apitestsuite/setAllExecuteY",method:"post",data:t})}function u(e){var t={suiteName:e};return Object(a.a)({url:"/apitestsuite/setAllExecuteN",method:"post",data:t})}function c(e,t){var i={testName:e,suiteName:t};return Object(a.a)({url:"/apitestsuite/deleteSingleAPITestCase",method:"post",data:i})}function p(e,t){var i={caseList:e,suiteName:t};return Object(a.a)({url:"/apitestsuite/importMultipleAPITestCase",method:"post",data:i})}function f(e){var t={suiteName:e};return Object(a.a)({url:"/apitestsuite/dropAPITestSuite",method:"post",data:t})}function d(e,t){var i={id:e,suiteName:t};return Object(a.a)({url:"/apitestsuite/getAPITestCaseById",method:"post",data:i})}function m(e,t){var i={origSuiteName:e,newSuiteName:t};return Object(a.a)({url:"/apitestsuite/modifyAPISuiteName",method:"post",data:i})}},CWIL:function(e,t,i){},DNAW:function(e,t,i){"use strict";var a=i("hwlQ");i.n(a).a},Hahs:function(e,t,i){},N5aa:function(e,t,i){"use strict";var a=i("Asgo"),s=i.n(a),n=i("AJLq"),r=i.n(n),o={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,i=e.results;this.excelData.header=t,this.excelData.results=i,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var i=t[0];if(!this.isExcel(i))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(i),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files[0];t&&this.upload(t)},upload:function(e){(this.$refs["excel-upload-input"].value=null,this.beforeUpload)?this.beforeUpload(e)&&this.readerData(e):this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new s.a(function(i,a){var s=new FileReader;s.onload=function(e){var a=e.target.result,s=t.fixData(a),n=r.a.read(btoa(s),{type:"base64"}),o=n.SheetNames[0],l=n.Sheets[o],u=t.getHeaderRow(l),c=r.a.utils.sheet_to_json(l,{defval:""});t.generateData({header:u,results:c}),t.loading=!1,i()},s.readAsArrayBuffer(e)})},fixData:function(e){for(var t="",i=0,a=10240;i<e.byteLength/a;++i)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(i*a,i*a+a)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(i*a)))},getHeaderRow:function(e){var t=[],i=r.a.utils.decode_range(e["!ref"]),a=void 0,s=i.s.r;for(a=i.s.c;a<=i.e.c;++a){var n=e[r.a.utils.encode_cell({c:a,r:s})],o="UNKNOWN "+a;n&&n.t&&(o=r.a.utils.format_cell(n)),t.push(o)}return t},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},l=(i("aoJ0"),i("ZrdR")),u=Object(l.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),e._v(" "),i("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v("\n    Drop excel file here or\n    "),i("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"info",icon:"el-icon-paperclip"},on:{click:e.handleUpload}},[e._v("Browse")])],1)])},[],!1,null,"ea51066e",null);u.options.__file="index.vue";t.a=u.exports},QywQ:function(e,t,i){},aoJ0:function(e,t,i){"use strict";var a=i("h2nL");i.n(a).a},cWrz:function(e,t,i){"use strict";var a=i("Hahs");i.n(a).a},eYqD:function(e,t,i){"use strict";i.r(t);var a=i("cLjf"),s=i.n(a),n=i("rerW"),r=i.n(n),o=i("hDQ3"),l=i.n(o),u=i("omC7"),c=i.n(u),p=i("8OYH"),f={name:"APISearchSuite",data:function(){return{testSuite:"",disabled:!0,autoComplete:"",suiteNamesTable:[],drawer:!1,dialogFormVisible:!1,dialogFormModify:!1,modifyOrigSuite:"",modifyNewSuite:"",ruleForm:{newTestSuite:""},newSuiteFirstTestCase:[{testName:"",features:"",application:"",oS:"",env:"",client:"",execute:"",edit:!1}],rules:{newTestSuite:[{required:!0,message:"Please input test suite",trigger:"blur"},{validator:function(e,t,i){""===t?i():Object(p.e)().then(function(e){var a=e.data.message;for(var s in a)a[s]===t&&i(new Error(t+" is existing in server"))})},trigger:"blur"}]}}},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite},origApiSuite:function(){return this.$store.getters.origApiSuite}},watch:{testSuite:function(e){this.$emit("setSuiteName",this.testSuite)},origApiSuite:function(e){0===e.length&&(this.testSuite="")}},methods:{onSearch:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.testSuite){t.next=9;break}return t.next=3,Object(p.d)(e.testSuite);case 3:i=t.sent,a=i.data.status,n=i.data.message,"success"===a?(r=JSON.parse(c()(n)),o=JSON.parse(c()(n)),e.modifyOrigSuite=e.testSuite,e.$store.dispatch("setTempApiSuite",r),e.$store.dispatch("setOrigApiSuite",o)):e.$message({message:n,type:"warning"}),t.next=10;break;case 9:e.$message({message:"Please input suite name",type:"error"});case 10:case"end":return t.stop()}},t,e)}))()},onClear:function(){this.testSuite="",this.modifyNewSuite="",this.modifyOrigSuite="",this.$store.dispatch("setTempApiSuite",[]),this.$store.dispatch("setOrigApiSuite",[])},onAddSuite:function(){this.dialogFormVisible=!this.dialogFormVisible},onSubmit:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ruleForm.newTestSuite){t.next=15;break}if(i=e.newSuiteFirstTestCase[0],"Passed"===(a=e.validateNewCase())){t.next=7;break}e.$message({message:a,type:"error"}),t.next=13;break;case 7:return t.next=9,Object(p.j)(i,e.ruleForm.newTestSuite);case 9:n=t.sent,r=n.data.status,o=n.data.message,"success"===r?(e.$message({message:o,type:"success"}),e.dialogFormVisible=!e.dialogFormVisible,e.rollBack(),e.$emit("getSuiteNames")):e.$message({message:o,type:"error"});case 13:t.next=16;break;case 15:e.$message({message:"Please input the suite name",type:"warning"});case 16:case"end":return t.stop()}},t,e)}))()},onCancel:function(){this.rollBack(),this.dialogFormVisible=!this.dialogFormVisible},validateNewCase:function(){var e=this.newSuiteFirstTestCase[0];return e.testName?e.features?e.application?e.oS?e.env?e.client?"Passed":"Missing required client":"Missing required env":"Missing required os":"Missing required application":"Missing required features":"Missing required test name"},rollBack:function(){this.newSuiteFirstTestCase=[{testName:"",features:"",application:"",oS:"",env:"",client:"",execute:"",edit:!1}],this.$refs.ruleForm.clearValidate(),this.ruleForm.newTestSuite=""},onDrop:function(){var e=this,t=this.testSuite;t?this.$msgbox({title:"Drop Test Suite",message:"Are you sure to drop the test suite: "+t,showCancelButton:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then(function(){Object(p.b)(t).then(function(i){var a=i.data.status,s=i.data.message;"success"===a?(e.$message({message:"Drop test suite success - "+t,type:"success"}),e.onClear(),e.$emit("getSuiteNames")):e.$message({message:s,type:"error"})})}).catch(function(){e.$message({message:"Cancel drop test suite",type:"info"})}):this.$message({message:"Please input the test suite",type:"error"})},onModify:function(){this.dialogFormModify=!this.dialogFormModify},onSumitModify:function(){var e=this,t=this.modifyOrigSuite,i=this.modifyNewSuite;t?i?Object(p.g)(t,i).then(function(a){var s=a.data.status,n=a.data.message;"success"===s||"Nothing was updated"===n?(e.$message({message:n,type:"success"}),e.dialogFormModify=!e.dialogFormModify,e.modifyOrigSuite="",e.modifyNewSuite="",t!==i&&e.onClear(),e.$emit("getSuiteNames")):e.$message({message:n,type:"error"})}):this.$message({message:"Please input your new Name",type:"error"}):this.$message({message:"Please input your orign Name",type:"error"})},onCancelModify:function(){this.testSuite||(this.modifyOrigSuite=""),this.modifyNewSuite="",this.dialogFormModify=!1}}},d=(i("8FEQ"),i("ZrdR")),m=Object(d.a)(f,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"searchSuite"},[i("ElForm",{attrs:{inline:!0,"label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[i("ElFormItem",{attrs:{label:"API Test Suite"}},[i("el-input",{attrs:{placeholder:"Input suite name",clearable:""},model:{value:e.testSuite,callback:function(t){e.testSuite=t},expression:"testSuite"}})],1),e._v(" "),i("ElFormItem",[i("ElButton",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{icon:"el-icon-search",size:"small",type:"info"},on:{click:e.onSearch}},[e._v("Search")]),e._v(" "),i("ElButton",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{icon:"el-icon-circle-plus-outline",size:"small",type:"info"},on:{click:e.onAddSuite}},[e._v("Add API Suite")]),e._v(" "),i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{icon:"el-icon-edit-outline",size:"small",type:"info"},on:{click:e.onModify}},[e._v("Modify API Suite Name")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:e.onDrop}},[e._v("Drop API Test Suite")]),e._v(" "),i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-refresh"},on:{click:e.onClear}},[e._v("Clear")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"Modify API Test Suite Name",visible:e.dialogFormModify,"close-on-click-modal":!1,width:"45%"},on:{"update:visible":function(t){e.dialogFormModify=t}}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"Orign API Suite Name"}},[i("el-input",{attrs:{placeholder:"Input orign api suite name"},model:{value:e.modifyOrigSuite,callback:function(t){e.modifyOrigSuite=t},expression:"modifyOrigSuite"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"New API Suite Name"}},[i("el-input",{attrs:{placeholder:"Input new api suite name"},model:{value:e.modifyNewSuite,callback:function(t){e.modifyNewSuite=t},expression:"modifyNewSuite"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},on:{click:e.onSumitModify}},[e._v("Submit")]),e._v(" "),i("el-button",{attrs:{type:"info"},on:{click:e.onCancelModify}},[e._v("Cancel")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"Add API Test Suite",visible:e.dialogFormVisible,"close-on-click-modal":!1,width:"75%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.rollBack}},[i("el-form",{ref:"ruleForm",attrs:{inline:!0,rules:e.rules,model:e.ruleForm}},[i("el-form-item",{attrs:{label:"API Test Suite",prop:"newTestSuite"}},[i("el-tooltip",{attrs:{content:"Need create a new case when you create new suite",placement:"right"}},[i("el-input",{model:{value:e.ruleForm.newTestSuite,callback:function(t){e.$set(e.ruleForm,"newTestSuite",t)},expression:"ruleForm.newTestSuite"}})],1)],1),e._v(" "),i("el-form-item",[i("el-tag",{staticClass:"el-icon-warning",attrs:{type:"info"}},[i("span",[e._v("Note: If you input the existing api suite name. It will import the case to exsting suite")])])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.newSuiteFirstTestCase,border:"",size:"mini"}},[i("el-table-column",{attrs:{label:"TestName",prop:"testName"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.testName,callback:function(i){e.$set(t.row,"testName",i)},expression:"scope.row.testName"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Features",align:"center",width:"150",prop:"features"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.features,callback:function(i){e.$set(t.row,"features",i)},expression:"scope.row.features"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Application",align:"center",width:"87",prop:"application"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.application,callback:function(i){e.$set(t.row,"application",i)},expression:"scope.row.application"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Env",align:"center",width:"80",prop:"env"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.env,callback:function(i){e.$set(t.row,"env",i)},expression:"scope.row.env"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Client",align:"center",width:"110",prop:"client"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.client,callback:function(i){e.$set(t.row,"client",i)},expression:"scope.row.client"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"OS",align:"center",width:"110",prop:"oS"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{size:"mini"},model:{value:t.row.oS,callback:function(i){e.$set(t.row,"oS",i)},expression:"scope.row.oS"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Execute",align:"center",width:"70",prop:"execute"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:"Y or Blank",placement:"bottom"}},[i("el-input",{attrs:{size:"mini",maxlength:"1"},model:{value:t.row.execute,callback:function(i){e.$set(t.row,"execute",i)},expression:"scope.row.execute"}})],1)]}}])})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},on:{click:e.onSubmit}},[e._v("Submit")]),e._v(" "),i("el-button",{attrs:{type:"info"},on:{click:e.onCancel}},[e._v("Cancel")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="SearchSuite.vue";var g=m.exports,h=i("kUvm"),S={name:"APITestSuiteFilter",data:function(){return{isExecute:!1,execute:"",feature:"",features:[]}},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite},origApiSuite:function(){return this.$store.getters.origApiSuite}},watch:{isExecute:function(e){this.execute=!0===e?"Y":""},execute:function(e){this.filter()},feature:function(e){this.filter()},origApiSuite:function(e){var t=this.origApiSuite;0===t.length&&(this.feature="",this.features=[],this.isExecute=!1);var i=[];for(var a in t)i.push({id:t[a].features,label:t[a].features});var s=[],n=function(e){if(s.find(function(t){return t.id===e.id&&t.label===e.label}))return"continue";s.push(e)},o=!0,l=!1,u=void 0;try{for(var c,p=r()(i);!(o=(c=p.next()).done);o=!0)n(c.value)}catch(e){l=!0,u=e}finally{try{!o&&p.return&&p.return()}finally{if(l)throw u}}i=s,this.features=i}},methods:{filter:function(){var e={};this.execute&&(e.execute=[{type:"execute",value:this.execute}]),this.feature&&(e.features=[{type:"features",value:this.feature}]),this.$emit("backPage"),this.$emit("setCondition",e);var t=JSON.parse(c()(this.origApiSuite)),i=Object(h.a)(t,e);this.$store.dispatch("setTempApiSuite",i)},onBack:function(){this.isExecute=!1,this.feature="",this.$emit("setCondition",{}),this.$emit("backPage")}}},v=(i("DNAW"),Object(d.a)(S,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"testSuiteFilter"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"Test Filter"}},[i("el-select",{attrs:{placeholder:"Choose feature",clearable:""},model:{value:e.feature,callback:function(t){e.feature=t},expression:"feature"}},e._l(e.features,function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],1),e._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{border:"",size:"small"},model:{value:e.isExecute,callback:function(t){e.isExecute=t},expression:"isExecute"}},[e._v("Y")])],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-refresh"},on:{click:e.onBack}},[e._v("Clear")])],1)],1)],1)},[],!1,null,null,null));v.options.__file="TestSuiteFilter.vue";var b=v.exports,w={name:"APIExportSuite",props:[],data:function(){return{bookType:"xlsx",downloadLoading:!1}},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite}},methods:{onExport:function(){var e=this;0!==this.tempApiSuite.length?(this.downloadLoading=!0,i.e("chunk-e4c1").then(i.bind(null,"S/jZ")).then(function(t){var i=e.tempApiSuite,a=e.formatJson(["testName","features","application","env","client","oS","execute"],i);t.export_json_to_excel({header:["TestName","Features","Application","Env","Client","OS","Execute"],data:a,bookType:e.bookType,autoWidth:!0}),e.downloadLoading=!1})):this.$message({message:"No data in the suite table. Please search suite",type:"warning"})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}},x=(i("ocin"),Object(d.a)(w,function(){var e=this.$createElement;return(this._self._c||e)("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{size:"small",icon:"el-icon-paperclip",loading:this.downloadLoading},on:{click:this.onExport}},[this._v("Export Excel")])},[],!1,null,null,null));x.options.__file="ExportSuite.vue";var y={name:"APITestSuiteTable",props:["currentSuiteName"],components:{testSuiteFilter:b,exportSuite:x.exports},data:function(){return{testSuiteTable:[],newLine:{testName:"",features:"",application:"",oS:"",env:"",client:"",execute:"",edit:!0,newLine:!0},currentPage:1,total:0,pageSize:50,condition:{}}},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite},origApiSuite:function(){return this.$store.getters.origApiSuite}},watch:{tempApiSuite:function(e){this.testSuiteTable=this.tempApiSuite},origApiSuite:function(e){0===e.length&&this.rollBackToPage()}},methods:{onEdit:function(e){e.edit=!e.edit},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},onSave:function(e,t){var i=this;return l()(s.a.mark(function a(){var n,r,o,l,u,f,d;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(1!==i.currentPage&&(t=i.pageSize+t),n=i.currentSuiteName,!i.validateTempLine(e)){a.next=18;break}if(!e.newLine){a.next=12;break}return a.next=6,Object(p.j)(e,n);case 6:r=a.sent,o=r.data.status,l=r.data.message,"success"===o?(i.$message({message:l,type:"success"}),e.edit=!e.edit,i.getTestSuitByName(n).then(function(t){i.$store.dispatch("setOrigApiSuite",t);var a=JSON.parse(c()(t));i.$store.dispatch("setTempApiSuite",a),i.doFilter(e)})):i.$message({message:l,type:"error"}),a.next=18;break;case 12:return a.next=14,Object(p.k)(e,n);case 14:u=a.sent,f=u.data.status,d=u.data.message,"success"===f?(i.$message({message:d,type:"success"}),e.edit=!e.edit,i.getTestSuitByName(n).then(function(t){i.$store.dispatch("setOrigApiSuite",t),i.doFilter(e)})):-1!=d.indexOf("nothing was updated")?(e.edit=!e.edit,i.$message({message:"Nothing was updated"})):(i.$message({message:d,type:"error"}),i.rollback(e));case 18:case"end":return a.stop()}},a,i)}))()},onCancel:function(e,t){e.newLine?this.tempApiSuite.splice(t,1):this.rollback(e),e.edit=!e.edit},onDelete:function(e,t){var i=this,a=this.currentSuiteName,s=this.tempApiSuite.length;1!==this.currentPage&&(t=this.pageSize+t),1===s?this.$msgbox({title:"Delete Last Case",message:"Are you sure to delete the last case for suite: "+a,showCancelButton:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then(function(){Object(p.a)(e.testName,a).then(function(s){var n=s.data.status,r=s.data.message;"success"===n?(i.tempApiSuite.splice(t,1),Object(p.d)(a).then(function(t){"success"===t.data.status?i.$store.dispatch("setOrigApiSuite",t.data.message):(i.$store.dispatch("setOrigApiSuite",[]),i.$emit("changeSuite",""),i.$emit("getSuiteNames")),i.$message({message:e.testName+" was deleted.",type:"success"})})):i.$message({message:r,type:"error"})})}).catch(function(){i.$message({message:"Cancel delete last case",type:"info"})}):Object(p.a)(e.testName,this.currentSuiteName).then(function(s){var n=s.data.status,r=s.data.message;"success"===n?(i.$message({message:e.testName+" was deleted",type:"success"}),i.tempApiSuite.splice(t,1),i.getTestSuitByName(a).then(function(e){i.$store.dispatch("setOrigApiSuite",e)})):i.$message({message:r,type:"error"})})},addLine:function(){var e=this.tempApiSuite,t=JSON.parse(c()(this.newLine));e.length>0||this.origApiSuite.length>0?this.tempApiSuite.push(t):this.$message({message:"Please search suite table first",type:"warning"})},validateTempLine:function(e){for(var t in e)if("execute"!==t&&""===e[t])return this.$message({message:"Please input value to "+t.slice(0,1).toUpperCase()+t.slice(1)}),!1;return!0},rollback:function(e){var t=e.id,i=this.currentSuiteName;Object(p.c)(t,i).then(function(t){var i=t.data.status,a=t.data.message;if("success"===i){var s=JSON.parse(c()(a));e.testName=JSON.parse(c()(s.testName)),e.features=JSON.parse(c()(s.features)),e.application=JSON.parse(c()(s.application)),e.env=JSON.parse(c()(s.env)),e.client=JSON.parse(c()(s.client)),e.oS=JSON.parse(c()(s.oS)),e.execute=JSON.parse(c()(s.execute))}})},onSetExecute:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,r,o,l,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.tempApiSuite,a=e.origApiSuite,n=e.currentSuiteName,0!==a.length){t.next=7;break}e.$message({message:"Please search suite first",type:"warning"}),t.next=13;break;case 7:return t.next=9,Object(p.i)(n);case 9:if(r=t.sent,o=r.data.status,l=r.data.message,"success"===o){for(u in e.$message({message:"Set All execute Y success",type:"success"}),i)i[u].execute="Y";e.getTestSuitByName(n).then(function(t){e.$store.dispatch("setOrigApiSuite",t)}),e.rollBackToPage()}else e.$message({message:l,type:"info"});case 13:case"end":return t.stop()}},t,e)}))()},onClearExecute:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,r,o,l,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.tempApiSuite,a=e.origApiSuite,n=e.currentSuiteName,0!==a.length){t.next=7;break}e.$message({message:"Please search suite first",type:"warning"}),t.next=13;break;case 7:return t.next=9,Object(p.h)(n);case 9:if(r=t.sent,o=r.data.status,l=r.data.message,"success"===o){for(u in e.$message({message:"Set All execute N success",type:"success"}),i)i[u].execute="";e.getTestSuitByName(n).then(function(t){e.$store.dispatch("setOrigApiSuite",t)}),e.rollBackToPage()}else e.$message({message:l,type:"info"});case 13:case"end":return t.stop()}},t,e)}))()},getTestSuitByName:function(e){var t=this;return l()(s.a.mark(function i(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.d)(e);case 2:return a=t.sent,t.abrupt("return",a.data.message);case 4:case"end":return t.stop()}},i,t)}))()},filterCondition:function(e){this.condition=e},doFilter:function(e){if(this.condition){var t=JSON.parse(c()(this.tempApiSuite)),i=Object(h.a)(t,this.condition);this.$store.dispatch("setTempApiSuite",i)}},rollBackToPage:function(){this.currentPage=1,this.pageSize=20}}},_=(i("7p2g"),Object(d.a)(y,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"testSuiteTable"},[i("testSuiteFilter",{on:{setCondition:e.filterCondition,backPage:e.rollBackToPage}}),e._v(" "),i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"API Suite Manager"}},[i("el-tooltip",{attrs:{content:"The newline will only display at the last row",placement:"bottom"}},[i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{size:"small",icon:"el-icon-circle-plus-outline"},on:{click:e.addLine}},[e._v("Add Case")])],1),e._v(" "),i("exportSuite"),e._v(" "),i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-folder-checked"},on:{click:e.onSetExecute}},[e._v("Set Execute")]),e._v(" "),i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-folder-remove"},on:{click:e.onClearExecute}},[e._v("Clear Execute")])],1),e._v(" "),i("el-form-item",[i("el-tag",{staticClass:"el-icon-warning",attrs:{type:"info"}},[i("span",[e._v("Note: Set or Clear Execute will set the whole suite cases to Execute Y or Blank")])])],1),e._v(" "),i("el-form-item",{staticStyle:{float:"right"},attrs:{label:"Total Cases"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.testSuiteTable.length))])],1)],1),e._v(" "),i("el-table",{attrs:{data:e.testSuiteTable.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"header-cell-style":{background:"rgba(234,238,241,.41)"},size:"small",border:"",hover:""}},[i("el-table-column",{attrs:{label:"TestName",prop:"testName"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.testName,callback:function(i){e.$set(t.row,"testName",i)},expression:"scope.row.testName"}}):i("span",[e._v(e._s(t.row.testName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Features",prop:"features",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.features,callback:function(i){e.$set(t.row,"features",i)},expression:"scope.row.features"}}):i("span",[e._v(e._s(t.row.features))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Application",prop:"application",width:"87",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.application,callback:function(i){e.$set(t.row,"application",i)},expression:"scope.row.application"}}):i("span",[e._v(e._s(t.row.application))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Env",prop:"env",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.env,callback:function(i){e.$set(t.row,"env",i)},expression:"scope.row.env"}}):i("span",[e._v(e._s(t.row.env))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Client",prop:"client",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.client,callback:function(i){e.$set(t.row,"client",i)},expression:"scope.row.client"}}):i("span",[e._v(e._s(t.row.client))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"OS",prop:"oS",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-input",{attrs:{size:"small"},model:{value:t.row.oS,callback:function(i){e.$set(t.row,"oS",i)},expression:"scope.row.oS"}}):i("span",[e._v(e._s(t.row.oS))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Execute",prop:"execute",width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-tooltip",{attrs:{content:"Y or Blank",placement:"bottom"}},[i("el-input",{attrs:{size:"small",maxlength:"1"},model:{value:t.row.execute,callback:function(i){e.$set(t.row,"execute",i)},expression:"scope.row.execute"}})],1):i("span",[e._v(e._s(t.row.execute))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Action",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-files"},on:{click:function(i){e.onSave(t.row,t.$index)}}},[e._v("Save")]):i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-edit"},on:{click:function(i){e.onEdit(t.row)}}},[e._v("Edit")]),e._v(" "),t.row.edit?i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-circle-close"},on:{click:function(i){e.onCancel(t.row,t.$index)}}},[e._v("Cancel")]):e._e(),e._v(" "),t.row.edit?e._e():i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-remove-outline"},on:{click:function(i){e.onDelete(t.row,t.$index)}}},[e._v("Delete")])]}}])})],1),e._v(" "),i("br"),e._v(" "),i("el-pagination",{attrs:{align:"center",background:"","current-page":e.currentPage,"page-sizes":[1,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.testSuiteTable.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},[],!1,null,null,null));_.options.__file="TestSuiteTable.vue";var k=_.exports,N={name:"APIImportSuite",components:{UploadExcelComponent:i("N5aa").a},data:function(){return{dialogFormVisible:!1,tableData:[],tableHeader:[],currentPage:1,total:0,pageSize:5,ruleForm:{newTestSuite:""},rules:{newTestSuite:[{required:!0,message:"Please input test suite",trigger:"blur"},{validator:function(e,t,i){""===t?i():Object(p.e)().then(function(e){var a=e.data.message;for(var s in a)a[s]===t&&i(new Error(t+" is existing in server"))})},trigger:"blur"}]},totalImport:"",passedTotal:"",failedTotal:"",showStatus:!1,statusDetails:[]}},methods:{onImport:function(){this.dialogFormVisible=!this.dialogFormVisible},beforeUpload:function(e){return e.size/1024/1024<1||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(e){var t=e.results,i=e.header;this.tableData=t,this.tableHeader=i},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},rollBack:function(){this.tableData=[],this.tableHeader=[],this.$refs.ruleForm.clearValidate(),this.ruleForm.newTestSuite="",this.currentPage=1,this.total=0,this.pageSize=5,this.showStatus=!1,this.statusDetails=[],this.totalImport="",this.passedTotal="",this.failedTotal=""},onImportSubmit:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,r,o,l,u,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(i=e.ruleForm.newTestSuite)){t.next=5;break}e.$message({message:"Please input test suite",type:"error"}),t.next=15;break;case 5:return a=e.buildCases(),t.next=8,Object(p.f)(a,i);case 8:n=t.sent,r=n.data.status,o=n.data.failedTotal,l=n.data.passedTotal,u=n.data.total,c=n.data.message,"success"===r&&"0"===o?(e.dialogFormVisible=!e.dialogFormVisible,e.rollBack(),e.$message({message:"All test cases import success, Please search again",type:"success"}),e.$emit("getSuiteNames")):(e.statusDetails=c,e.showStatus=!e.showStatus,e.$refs.ruleForm.clearValidate(),e.failedTotal=o,e.passedTotal=l,e.totalImport=u,e.$emit("getSuiteNames"));case 15:case"end":return t.stop()}},t,e)}))()},onImportCancel:function(){this.dialogFormVisible=!this.dialogFormVisible,this.rollBack()},buildCases:function(){for(var e=JSON.parse(c()(this.tableData)),t=0;t<e.length;t++){var i=e[t];for(var a in i)"TestName"===a&&(i.testName=i[a],delete i[a]),"Features"===a&&(i.features=i[a],delete i[a]),"Application"===a&&(i.application=i[a],delete i[a]),"Env"===a&&(i.env=i[a],delete i[a]),"Client"===a&&(i.client=i[a],delete i[a]),"OS"===a&&(i.oS=i[a],delete i[a]),"Execute"===a&&(i.execute=i[a],delete i[a])}return e}},watch:{},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite},origApiSuite:function(){return this.$store.getters.origApiSuite}}},A=(i("cWrz"),Object(d.a)(N,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"importSuite"},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"Import API Suite From Excel"}},[i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},attrs:{size:"small",icon:"el-icon-folder"},on:{click:e.onImport}},[e._v("Multiple Import")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"Import API Suite From Excel",visible:e.dialogFormVisible,"close-on-click-modal":!1,width:"75%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.rollBack}},[i("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-form-item",{attrs:{label:"API Test Suite",prop:"newTestSuite"}},[i("el-tooltip",{attrs:{content:"Input api suite name for multiple cases",placement:"top"}},[i("el-input",{model:{value:e.ruleForm.newTestSuite,callback:function(t){e.$set(e.ruleForm,"newTestSuite",t)},expression:"ruleForm.newTestSuite"}})],1)],1),e._v(" "),i("el-form-item",[i("el-tag",{staticClass:"el-icon-warning",attrs:{type:"info"}},[i("span",[e._v("Note: If you input the existing api suite name. It will import the multiple cases to exsting suite")])])],1)],1),e._v(" "),e.showStatus?i("el-form",{attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"Total Input"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.tableData.length))])],1),e._v(" "),i("el-form-item",{attrs:{label:"Passed Input"}},[i("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.passedTotal))])],1),e._v(" "),i("el-form-item",{attrs:{label:"Failed Input"}},[i("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.failedTotal))])],1)],1):e._e(),e._v(" "),e.showStatus?i("el-table",{attrs:{data:e.statusDetails.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),size:"mini",border:""}},[i("el-table-column",{attrs:{label:"Test Name",prop:"testName"}}),e._v(" "),i("el-table-column",{attrs:{label:"Failed Reason",prop:"reason"}})],1):i("el-table",{attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),border:"",size:"mini"}},e._l(e.tableHeader,function(e){return i("el-table-column",{key:e,attrs:{prop:e,label:e}})})),e._v(" "),i("br"),e._v(" "),e.showStatus?i("el-pagination",{attrs:{background:"",align:"center","current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.statusDetails.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):i("el-pagination",{attrs:{background:"",align:"center","current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.showStatus?i("el-button",{attrs:{type:"warning"},on:{click:e.rollBack}},[e._v("Back")]):i("el-button",{staticStyle:{background:"hsl(214, 37%, 28%)",color:"#fff"},on:{click:e.onImportSubmit}},[e._v("Submit")]),e._v(" "),i("el-button",{attrs:{type:"info"},on:{click:e.onImportCancel}},[e._v("Cancel")])],1)],1)],1)},[],!1,null,null,null));A.options.__file="ImportSuite.vue";var $={name:"APITestSuite",components:{searchSuite:g,testSuiteTable:k,importSuite:A.exports},data:function(){return{suiteName:"",suiteNamesTable:[],currentPage:1,total:0,pageSize:5}},methods:{setCurrentSuiteName:function(e){this.suiteName=e},getSuiteNames:function(){var e=this;return l()(s.a.mark(function t(){var i,a,n,o,l,u,c,f,d,m,g,h,S;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.suiteNamesTable=[],i=e.suiteNamesTable,t.next=4,Object(p.e)();case 4:if(a=t.sent,n=a.data.status,o=a.data.message,"success"!==n){t.next=39;break}for(l in o)i.push({testSuite:o[l]});u=[],c=function(e){if(u.find(function(t){return t.testSuite===e.testSuite}))return"continue";u.push(e)},f=!0,d=!1,m=void 0,t.prev=14,g=r()(i);case 16:if(f=(h=g.next()).done){t.next=24;break}if(S=h.value,"continue"!==c(S)){t.next=21;break}return t.abrupt("continue",21);case 21:f=!0,t.next=16;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(14),d=!0,m=t.t0;case 30:t.prev=30,t.prev=31,!f&&g.return&&g.return();case 33:if(t.prev=33,!d){t.next=36;break}throw m;case 36:return t.finish(33);case 37:return t.finish(30);case 38:i=u;case 39:return t.abrupt("return",i);case 40:case"end":return t.stop()}},t,e,[[14,26,30,38],[31,,33,37]])}))()},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e}},created:function(){this.getSuiteNames()},computed:{tempApiSuite:function(){return this.$store.getters.tempApiSuite},origApiSuite:function(){return this.$store.getters.origApiSuite}},watch:{}},C=(i("zqSU"),Object(d.a)($,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:20}},[i("el-row",[i("el-col",[i("div",{staticClass:"wrapper"},[i("searchSuite",{ref:"sSuite",on:{setSuiteName:e.setCurrentSuiteName,getSuiteNames:e.getSuiteNames}}),e._v(" "),i("importSuite",{on:{getSuiteNames:e.getSuiteNames}})],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",{staticClass:"wrapper"},[i("testSuiteTable",{attrs:{currentSuiteName:e.suiteName},on:{changeSuite:e.setCurrentSuiteName,getSuiteNames:e.getSuiteNames}})],1)])],1)],1),e._v(" "),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"wrapper"},[i("el-form",[i("el-form-item",[i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-tickets"}},[e._v("Existing Suite")]),e._v(" "),i("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-refresh"},on:{click:e.getSuiteNames}},[e._v("Refresh")]),e._v(" "),i("el-table",{attrs:{data:e.suiteNamesTable.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"cell-style":{background:"rgba(234,238,241,.41)"},size:"mini",border:""}},[i("el-table-column",{attrs:{label:"API Test Suite",prop:"testSuite"}})],1),e._v(" "),i("el-pagination",{attrs:{align:"center",small:"",background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev,next",total:e.suiteNamesTable.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1)],1)},[],!1,null,null,null));C.options.__file="index.vue";t.default=C.exports},h2nL:function(e,t,i){},hwlQ:function(e,t,i){},kUvm:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("rerW"),s=i.n(a),n={choosesFilter:function(e,t){var i=[];if(0===t.length)i=e;else if(0===e.length)i=[];else{var a=function(t){i=i.concat(e.filter(function(e){return e[t.type]===t.value}))},n=!0,r=!1,o=void 0;try{for(var l,u=s()(t);!(n=(l=u.next()).done);n=!0){a(l.value)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}return i}};function r(e,t){for(var i in t)e=n.choosesFilter(e,t[i]);return e}},ljN4:function(e,t,i){},ocin:function(e,t,i){"use strict";var a=i("5Eq1");i.n(a).a},zqSU:function(e,t,i){"use strict";var a=i("CWIL");i.n(a).a}}]);